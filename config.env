# Jenkins EKS Deployment Configuration
# Modify this file to customize your deployment

# AWS Configuration
AWS_REGION="ap-southeast-1"
AWS_PROFILE="default"  # AWS CLI profile to use

# CloudFormation Stack Configuration
STACK_NAME="jenkins-eks-stack"
TEMPLATE_FILE="jenkins-eks-stack.yaml"

# EKS Cluster Configuration
CLUSTER_NAME="jenkins-eks-cluster"
KUBERNETES_VERSION="1.28"

# Node Group Configuration
NODE_GROUP_NAME="jenkins-node-group"
DESIRED_NODE_CAPACITY=2
MIN_NODE_CAPACITY=1
MAX_NODE_CAPACITY=4
NODE_INSTANCE_TYPE="t3.medium"
# Other options: t3.small, t3.large, t3.xlarge, m5.large, m5.xlarge

# VPC Configuration
VPC_CIDR="10.0.0.0/16"
PUBLIC_SUBNET_1_CIDR="10.0.1.0/24"
PUBLIC_SUBNET_2_CIDR="10.0.2.0/24"
PRIVATE_SUBNET_1_CIDR="10.0.11.0/24"
PRIVATE_SUBNET_2_CIDR="10.0.12.0/24"

# Jenkins Configuration
JENKINS_NAMESPACE="jenkins"
JENKINS_STORAGE_SIZE="20Gi"
JENKINS_STORAGE_CLASS="ebs-sc"
JENKINS_CPU_REQUEST="500m"
JENKINS_CPU_LIMIT="1000m"
JENKINS_MEMORY_REQUEST="512Mi"
JENKINS_MEMORY_LIMIT="1024Mi"

# Jenkins Autoscaling
JENKINS_MIN_REPLICAS=1
JENKINS_MAX_REPLICAS=3
JENKINS_CPU_TARGET=70
JENKINS_MEMORY_TARGET=80

# Jenkins Admin Configuration
JENKINS_ADMIN_USER="admin"
# Note: Initial password is generated automatically
# Retrieve it with: kubectl exec -it <POD_NAME> -n jenkins -- cat /var/jenkins_home/secrets/initialAdminPassword

# LoadBalancer Configuration
LOADBALANCER_TYPE="LoadBalancer"  # Options: LoadBalancer, NodePort, ClusterIP
LOADBALANCER_PORT=80
JENKINS_INTERNAL_PORT=8080
JENKINS_AGENT_PORT=50000

# EBS Configuration
EBS_VOLUME_SIZE="20Gi"
EBS_VOLUME_TYPE="gp3"
EBS_VOLUME_IOPS="3000"
EBS_VOLUME_THROUGHPUT="125"

# Monitoring & Logging
ENABLE_CLOUDWATCH_LOGGING=true
ENABLE_PROMETHEUS_MONITORING=false
ENABLE_JENKINS_METRICS=true

# Network Configuration
ENABLE_VPC_ENDPOINTS=false
ENABLE_PRIVATE_LINK=false
RESTRICT_SSH_ACCESS="0.0.0.0/0"  # Change this to your IP for security

# IAM Configuration
CREATE_SERVICE_ROLE=true
ATTACH_EC2_PERMISSIONS=true
ATTACH_ECR_PERMISSIONS=true
ATTACH_S3_PERMISSIONS=true

# Backup Configuration
ENABLE_AUTOMATED_BACKUP=false
BACKUP_RETENTION_DAYS=7

# Tags
ENVIRONMENT="production"  # Options: development, staging, production
OWNER="DevOps Team"
COST_CENTER="Engineering"
PROJECT="Jenkins"

# Additional CloudFormation Tags
TAG_APPLICATION="Jenkins"
TAG_ENVIRONMENT="production"
TAG_MANAGED_BY="Terraform"  # or CloudFormation, Manual, etc.
